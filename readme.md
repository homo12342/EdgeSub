
# Edge Sub

åœ¨ CloudFlare çš„å…¨çƒç½‘ç»œä¸Šè½¬æ¢æ‚¨çš„èŠ‚ç‚¹è®¢é˜…ã€‚

## ä½¿ç”¨æ–¹å¼

- ### UI
  
  åœ¨ Cloudflare Pages éƒ¨ç½²åæ‰“å¼€ï¼Œå¹¶æŒ‰æç¤ºæ“ä½œã€‚

- ### Clash Meta

  ç«¯ç‚¹ï¼š`/sub/clash-meta`
  
  éœ€æä¾›ä»¥ä¸‹å‚æ•°ï¼š
  
  - `url`: è®¢é˜…çš„è¿œç¨‹åœ°å€
  - `remote_config` (å¯é€‰): è¿œç¨‹é…ç½®åœ°å€ (INI æ ¼å¼)ï¼Œé»˜è®¤ä¸º https://raw.githubusercontent.com/kobe-koto/EdgeSub/main/public/minimal_remote_rules.ini
  - `udp` (å¯é€‰): æ˜¯å¦å¯ç”¨ UDPï¼Œé»˜è®¤ä¸º true
  - `forced_refresh` (å¯é€‰): æ˜¯å¦å¼ºåˆ¶åˆ·æ–°å·²ç¼“å­˜çš„è¿œç¨‹é…ç½®ï¼Œé»˜è®¤ä¸º false

- ### Debug

  > **âš ï¸ è­¦å‘Š**
  > 
  > æ­¤æ ¼å¼å¯èƒ½éšæ—¶å˜æ›´ï¼Œä»…ä½œæµ‹è¯•ç”¨é€”
  
  ç«¯ç‚¹ï¼š`/sub/debug`
  
  éœ€æä¾›ä»¥ä¸‹å‚æ•°ï¼š
  
  - `url`: è®¢é˜…çš„è¿œç¨‹åœ°å€

## éƒ¨ç½²

- ### åœ¨ Cloudflare Pages ä¸Šéƒ¨ç½²

  0. Fork æœ¬é¡¹ç›®
  1. æ‰“å¼€ dash.cloudflare.com
  2. è½¬åˆ°ä¾§è¾¹æ çš„ **Workers & Pages** (Overview) éƒ¨åˆ†
  3. ç‚¹å‡» **Create** æŒ‰é’®
  4. åˆ‡æ¢åˆ° **Pages** æ ‡ç­¾é¡µ
  5. é€‰æ‹© **Connect to Git**
  6. é€‰æ‹©æ‚¨ Fork çš„ EdgeSub é¡¹ç›®
  7. åœ¨ **Build settings > Framework preset** ä¸­é€‰æ‹© Astro
  8. ç¼–è¾‘ **Build settings > Build command** ä¸º `pnpm build:frontend`
  9. ç‚¹å‡» **Save and Deploy**
  10. éƒ¨ç½²å®Œæˆåï¼Œå¯å‰å¾€ **é¡¹ç›® > Custom domains** æ·»åŠ è‡ªå®šä¹‰åŸŸå
  
  #### âœ¡ï¸ å¯é€‰ - ä¸ºè¿œç¨‹è§„åˆ™æ·»åŠ ç¼“å­˜åŠ é€Ÿï¼š
  
  **æ³¨æ„ï¼šå¼€å‘æ—¶é»˜è®¤ç¼“å­˜ KV å­˜åœ¨ï¼Œæ— ç¼“å­˜ KV ç¯å¢ƒå°†æŒ‰ä½ä¼˜å…ˆçº§å¼€å‘ã€‚**
  
  **å¼ºçƒˆå»ºè®®æ·»åŠ ç¼“å­˜ KVã€‚**
  
  1. è½¬åˆ° **Workers & Pages > KV**
  2. ç‚¹å‡» **Create a namespace**ï¼Œè¾“å…¥åç§°åç‚¹å‡» **Add**
  3. è¿”å›é¡¹ç›®
  4. è½¬åˆ° **Settings > Functions > KV namespace bindings**
  5. ç‚¹å‡» **Add binding**
  6. **Variable name** å¡«å†™ `EdgeSubDB`ï¼Œ**KV namespace** é€‰æ‹©æ–°å»ºçš„ KV ç©ºé—´
  7. ç‚¹å‡» **Save**
  8. è½¬åˆ° **é¡¹ç›® > Deployments**
  9. åœ¨ **All deployments** ä¸­é€‰æ‹©æœ€æ–°éƒ¨ç½²ï¼Œç‚¹å‡» **å³ä¾§ä¸‰ç‚¹èœå• > Retry Deployment**
  10. å®Œæˆ

## å…¼å®¹æ€§è¡¨æ ¼

- èŠ‚ç‚¹ç±»å‹

  | ç±»å‹         | æ”¯æŒ | å·²æµ‹è¯• | å¤‡æ³¨                                |
  | ------------ | ---- | ------ | ----------------------------------- |
  | HTTP         | âœ…    | ğŸš«      |                                     |
  | Socks 5      | âœ…    | ğŸš«      |                                     |
  | Hysteria 1   | âœ…    | âœ…      |                                     |
  | Hysteria 2   | âœ…    | âœ…      |                                     |
  | TUIC v5      | âœ…    | âœ…      |                                     |
  | Vmess        | âœ…    | â˜‘ï¸      | æœªå®Œå…¨æµ‹è¯•                          |
  | Vless        | âœ…    | â˜‘ï¸      | æœªå®Œå…¨æµ‹è¯•                          |
  | Shadowsocks  | âœ…    | âœ…      | å…¨å±€è®¾ç½®å¼€å¯ SS UoT æ—¶ä¼šå¯ç”¨ UDP over TCP |
  | Trojan       | âœ…    | âœ…      |                                     |
  | WireGuard    | ğŸš«    | -      | æ— é€šç”¨ ShareLink æ ¼å¼               |
  | ShadowsocksR | ğŸš«    | -      | æš‚æ— å®ç°è®¡åˆ’                        |
  | SSH          | ğŸš«    | -      | æš‚æ— å®ç°è®¡åˆ’                        |

- è®¢é˜…ç±»å‹

  | ç±»å‹                    | è¾“å…¥ | è¾“å‡º | è¾“å‡ºç«¯ç‚¹          |
  | ----------------------- | ---- | ---- | ----------------- |
  | å†…éƒ¨è°ƒè¯•æ ¼å¼            | ğŸš«    | âœ…    | `/sub/debug`      |
  | ShareLink é›†åˆ          | âœ…    | âœ…    | `/sub/share-link` |
  | ShareLink é›†åˆ (Base64) | âœ…    | âœ…    | `/sub/base64`     |
  | Clash Meta é…ç½®         | âœ…    | âœ…    | `/sub/clash-meta` |
  | Clash é…ç½®              | âœ…    | âœ…    | `/sub/clash`      |
  | Sing-Box é…ç½®           | âœ…    | âœ…    | `/sub/sing-box`   |

  æ³¨ï¼š
  
  - **Clash Meta å’Œ Clash é…ç½®**ï¼š 
    - è¾“å…¥ï¼šæš‚ä¸ç‰¹æ®Šå¤„ç†
    - è¾“å‡ºï¼šClash é…ç½®ä¼šè¿‡æ»¤ä»…ä¿ç•™æ”¯æŒçš„ä»£ç†ç±»å‹ï¼Œå…¶ä½™ä¸ Clash Meta ç›¸åŒ
  
  - **å†…éƒ¨è°ƒè¯•æ ¼å¼**ï¼š 
    ä»…ä¾›è°ƒè¯•ï¼Œæœªæ¥å¯èƒ½è¿›è¡Œç ´åæ€§å˜æ›´æˆ–ç§»é™¤ã€‚